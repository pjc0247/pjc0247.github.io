<canvas id="canvas" width="500px" height="500px">
</canvas>

<script>
var canvasWidth = 30;
var canvasHeight = 30;
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");

var canvasData = ctx.getImageData(0, 0, canvasWidth, canvasHeight);
function drawPixel (x, y, r, g, b, a) {
    var index = (x + y * canvasWidth) * 4;

    canvasData.data[index + 0] = r;
    canvasData.data[index + 1] = g;
    canvasData.data[index + 2] = b;
    canvasData.data[index + 3] = a;
}
function updateCanvas() {
    ctx.putImageData(canvasData, 0, 0);
}

var req = new XMLHttpRequest();
req.open('GET', 'https://jwvgtest.azurewebsites.net/api/GenerateMapData?code=ifMbPygn7iCbYduURc/zX/n2gJzD0lEqG1ej5apWKaacEhSC8DK6MA==&seed=441', false);
req.send(null);

if(req.status == 200)
{
    var data = JSON.parse(req.responseText);
    var map = data.worldProperty;


    for (var i=0; i<canvasWidth / 5;i++) {
        for (var j=0;j<canvasHeight / 5;j++) {

            for (var ii=0;ii<5;ii++) {
                for (var jj=0;jj<5;jj++) {
                    var x = i * 5 + ii;
                    var y = j * 5 + jj;

                    var t = map["t" + ((i * canvasWidth / 5) + j)];
                    
                    console.log(x + " , " + y);
                    console.log(t.charCodeAt(ii * 5 + jj));

                    if (t.charCodeAt(ii * 5 + jj) == 1)
                        drawPixel(x,y , 0, 255, 0, 255);        
                    else if (t.charCodeAt(ii * 5 + jj) == 2)
                        drawPixel(x,y , 0, 0, 255, 255);
                  
                }
            }
        }
    }

    console.log(String.fromCharCode(map.t0.charCodeAt(0) + 65) );
    console.log("pdate");
    drawPixel(1, 1, 255, 0, 0, 255);
    drawPixel(1, 2, 255, 0, 0, 255);
    drawPixel(1, 3, 255, 0, 0, 255);
    updateCanvas();
}
</script>
