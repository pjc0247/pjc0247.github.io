<html>
  <head>
  </head>
  
  <body>
    <canvas id="canvas" width="1540px" height="630px">
    </canvas>
    
    <br>
    <h1>
      1. original image <br>
      2. ROI를 설정하고 darken, lighten을 수행 <br>
      3. G,B채널에 마스크를 씌우고 lighten을 수행 <br>
      4. 2번 이미지에 contour_4x를 수행 <br>
      5. 4번 이미지에 Morphology 2x2 침식 연산<br> 
      6. 4번 이미지에 Morphology 2x2 팽창 연산<br>
    </h1>
  </body>
</html>

<script src="ip_cs.js"></script>
<script src="ip_core.js"></script>
<script src="ip_mask.js"></script>
<script src="ip_p.js"></script>
<script src="ip_morp.js"></script>

<script>
  console.log("hello");
  
  var img = new Image;
  img.src = "../album.png";
  img.onload = function(){
    var canvas = document.getElementById("canvas");
    var dc = canvas.getContext("2d");
    
    ip_set_dc( dc );
    
    dc.drawImage( img, 0,0,300,300 );
    
    var pixels = dc.getImageData(0,0,300,300);
    var pixels2 = ip_copy_img( pixels );
    
    ip_set_roi( pixels, 50,50,200,200 )
    ip_darken( pixels, 100 );
    
    ip_set_roi( pixels, 100,100,100,100 );
    ip_lighten( pixels, 150 );
    
    ip_set_channel_mask( pixels2, IP_G, 0,0 );
    ip_set_channel_mask( pixels2, IP_B, 0,0 );
    ip_lighten( pixels2, 50 );
    
    ip_reset_masks( pixels );
    var cont = ip_contour_4x( pixels, 110 );
    
    var morp_e = ip_morp_erode( cont, 2,2 );
    var morp_d = ip_test_morp_dilate( pixel, 2,2 );
    
    dc.putImageData( pixels,300,0 );
    dc.putImageData( pixels2, 600,0 );
    dc.putImageData( cont, 900,0 );
    dc.putImageData( morp_e, 0,300 );
    dc.putImageData( morp_d, 300,300 );
  }
</script>
